[#]: subject: "How to Update or Upgrade Ubuntu Offline without Internet"
[#]: via: "https://www.debugpoint.com/how-to-update-or-upgrade-ubuntu-offline-without-internet/"
[#]: author: "Arindam https://www.debugpoint.com/author/admin1/"
[#]: collector: "lkxed"
[#]: translator: "littlebirdnest"
[#]: reviewer: " "
[#]: publisher: " "
[#]: url: " "

如何在没有网络的情况下，离线更新或升级 Ubuntu
======

**此教程关于如何一步一步在没有网络的情况下，升级ubuntu**

在有些情况下，你可能需要离线更新ubuntu，又或者你可能在远程状态下需要更新一堆未联网的ubuntu，总的来说你想要升级最新的系统

当然，始终建议通过联网升级系统。

但有时，离线更新系统，有助于网络安全，远离黑客和恶意软件

以下的方法使用[apt-offline][1]来解决这些问题，离线更新ubuntu
### 准备环节

- 一台能连接到网络的ubuntu（你朋友的，咖啡馆，实验室系统）
- 装了安装包的u盘
- 两个系统都安装了 apt-offline.一个系统离线，另一个系统联网

### 安装 apt-offline

在两个系统下安装apt-offline

你可以使用以下命令安装 apt-offline。

```
sudo apt install apt-offline
```

如果你想装离线安装 apt-offline ，你可以提前下载到u盘里，然后拷出来，再使用下面的命令

Ubuntu 22.04 LTS 和其他版本的下载链接如下所示。您可以选择一个镜像并下载 deb 文件。

[下载 .deb 文件 – apt-offline][2]

```
sudo dpkg -i name_of_package.deb
```

### 如何更新ubuntu

离线打开终端，且使用以下命令创建一个.sig签名文件

```
sudo apt-offline set ~/offline-data.sig
```

[![Create the sig file][3]][4]

这个刚创建的签名文件中，包含下载所需的包路径和详细信息。

[![sig file contents][5]][6]

把签名文件，拷到u盘中，再插到有网的ubuntu

创建有一个目录去装这些文件

打开一个终端，运行以下命令，记得根据你的系统，更改下载目录和.sig签名文件的路径

```
apt-offline get -d ~/offline-data-dir offline-data.sig
```

[![Download the packages to install offline][7]][8]

更新离线的Ubuntu

文件下载完，拷贝整个目录，再插到没联网的ubuntu

然后运行以下命令将下载的包装到离线系统，记得根据你的系统更改目录路径

```
sudo apt-offline install offline-data-dir/
```

[![Installing packages - offline update ubuntu][9]][10]

如果一切顺利，你将获得一个更新完的ubuntu

重复食用以上步骤，就可以保持你的离线ubuntu是最新版

希望以上教程能帮到你更新离线的ubnuntu系统，如果您遇到任何问题，请在下面的评论框中告诉我。
--------------------------------------------------------------------------------

via: https://www.debugpoint.com/how-to-update-or-upgrade-ubuntu-offline-without-internet/

作者：[Arindam][a]
选题：[lkxed][b]
译者：[littlebirdnest](https://github.com/译者ID)
校对：[校对者ID](https://github.com/校对者ID)

本文由 [LCTT](https://github.com/LCTT/TranslateProject) 原创编译，[Linux中国](https://linux.cn/) 荣誉推出

[a]: https://www.debugpoint.com/author/admin1/
[b]: https://github.com/lkxed
[1]: https://github.com/rickysarraf/apt-offline
[2]: https://packages.ubuntu.com/focal/all/apt-offline/download
[3]: https://www.debugpoint.com/wp-content/uploads/2021/03/Create-the-sig-file-1024x204.jpg
[4]: https://www.debugpoint.com/wp-content/uploads/2021/03/Create-the-sig-file.jpg
[5]: https://www.debugpoint.com/wp-content/uploads/2021/03/sig-file-contents-1024x250.jpg
[6]: https://www.debugpoint.com/wp-content/uploads/2021/03/sig-file-contents.jpg
[7]: https://www.debugpoint.com/wp-content/uploads/2021/03/Download-the-packages-to-install-offline-1024x437.jpg
[8]: https://www.debugpoint.com/wp-content/uploads/2021/03/Download-the-packages-to-install-offline.jpg
[9]: https://www.debugpoint.com/wp-content/uploads/2021/03/Installing-packages-offline-update-ubuntu-1024x509.jpg
[10]: https://www.debugpoint.com/wp-content/uploads/2021/03/Installing-packages-offline-update-ubuntu.jpg
